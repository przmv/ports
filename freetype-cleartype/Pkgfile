# Description: TrueType font rendering library with ClearType patch
# URL: http://freetype.sourceforge.net/
# Maintainer: Peter A. Shevtsov, pshevtsov at severusweb dot com
# Packager: Peter A. Shevtsov, pshevtsov at severusweb dot com
# Depends on: zlib

name=freetype-cleartype
version=2.4.11
release=1
source=(http://downloads.sourceforge.net/sourceforge/freetype/freetype-$version.tar.bz2
freetype-2.2.1-subpixel-disable-quantization.diff
bytecode.patch
freetype-2.3.0-enable-spr.patch
freetype-2.2.1-enable-valid.patch
freetype-2.2.1-memcpy-fix.patch)

build() {
    cd freetype-$version
    patch -Np1 -i $SRC/freetype-2.2.1-subpixel-disable-quantization.diff
    patch -Np0 -i $SRC/bytecode.patch
    patch -Np1 -i $SRC/freetype-2.3.0-enable-spr.patch
    patch -Np1 -i $SRC/freetype-2.2.1-enable-valid.patch
    patch -Np1 -i $SRC/freetype-2.2.1-memcpy-fix.patch

    ./configure --prefix=/usr
    make
    make DESTDIR=$PKG install
}
